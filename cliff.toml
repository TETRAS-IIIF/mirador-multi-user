# cliff.toml
[changelog]
header = """
# Changelog
All notable changes to this project will be documented in this file.
"""

body = """
{% for group, commits in commits | group_by(attribute="group") %}
### {{ group | upper_first }}

{% for commit in commits %}
- {{ commit.message | strip }} ([{{ commit.id | truncate(length=7) }}](https://github.com/TETRAS-IIIF/mirador-multi-user/commit/{{ commit.id }}))
{% endfor %}
{% endfor %}
"""

footer = """
Generated by [git-cliff](https://github.com/orhun/git-cliff)
"""
trim = true

[cliff]
tag_pattern = ".*"
sort_commits = "date"
body = true
filter_unconventional = false  # Important: allows non-standard commits to show under 'Other'
parse_commits = true           # Enables parser mode

[changelog.commit_types]
feat = { name = "Features", symbol = "✨" }
fix = { name = "Bug Fixes", symbol = "🐛" }
docs = { name = "Documentation", symbol = "📝" }
style = { name = "Style", symbol = "🎨" }
refactor = { name = "Refactoring", symbol = "🔨" }
perf = { name = "Performance", symbol = "⚡" }
test = { name = "Tests", symbol = "✅" }
chore = { name = "Chores", symbol = "🧹" }
ci = { name = "CI", symbol = "👷" }
build = { name = "Build System", symbol = "🏗" }
revert = { name = "Reverts", symbol = "⏪" }

# Catch-all for non-parsable commit messages
_ = { name = "Other", symbol = "🔧" }
